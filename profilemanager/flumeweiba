server.sources.jiaoyanLogCourier.channels = fileChannel

#配置load-balance
server.sinkgroups = flumeServerSinkGroup
server.sinkgroups.flumeServerSinkGroup.sinks = flumeServerSink1 flumeServerSink2
server.sinkgroups.flumeServerSinkGroup.processor.type = load_balance
server.sinkgroups.flumeServerSinkGroup.processor.backoff = true
server.sinkgroups.flumeServerSinkGroup.processor.selector = round_robin

#Specify the channel the sink should use
server.sinks.flumeServerSink1.channel = fileChannel
server.sinks.flumeServerSink1.type = avro
server.sinks.flumeServerSink1.hostname = 172.16.1.72
server.sinks.flumeServerSink1.port = 6665
server.sinks.flumeServerSink1.request-timeout = 60000

server.sinks.flumeServerSink2.channel = fileChannel
server.sinks.flumeServerSink2.type = avro
server.sinks.flumeServerSink2.hostname = 172.16.1.77
server.sinks.flumeServerSink2.port = 6665
server.sinks.flumeServerSink2.request-timeout = 60000

# Each channel's type is defined.
# 用文件做管道
server.channels.fileChannel.type = file
server.channels.fileChannel.checkpointDir = /apps/srv/flume/checkpoint
server.channels.fileChannel.dataDirs = /apps/srv/flume/data
server.channels.fileChannel.capacity = 10000000

# Other config values specific to each type of channel(sink or source)
# can be defined as well
# In this case, it specifies the capacity of the memory channel
#channel的容量
#server.channels.memoryChannel.capacity = 100000
#队列的大小
#server.channels.memoryChannel.transactionCapactiy = 10000
#批量传送给sink的大小，不能大于队列的大小
#server.channels.memoryChannel.batchSize = 5000